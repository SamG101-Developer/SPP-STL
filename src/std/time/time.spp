use std::time::duration::Duration
use std::result::Pass
use std::result::Fail
use std::result::Res
use std::string_view::StrView
use std::void::Void


@public
cls TimeErr {
    @public msg: StrView
}


fun sleep(duration: Duration) -> Res[Void, TimeErr] {
    # Use the C function to sleep for the specified duration.
    let val = sppc::time_sleep_ns(duration.to_nanoseconds())
    case val < 0 { ret Fail(err=TimeErr(msg="Failed to sleep for the specified duration")) }
    ret Pass[Void]()
}
